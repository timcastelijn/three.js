<!DOCTYPE html>
<html lang="en">
	<head>
		<title>experience cabine - three.js webgl</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		<!-- <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"> -->
		<link rel="stylesheet" href="https://bootswatch.com/cosmo/bootstrap.min.css">

		<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.15.0/jquery.validate.min.js"></script>
		<script src="order_form/validate.js"></script>

		<script src="lib/colorselector/bootstrap-colorselector.js"></script>
		<link rel="stylesheet" href="bootstrap-colorselector.css">

		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<div id="content">
			<div class="panel-group" id="accordion">
	     		<p>Stel je eigen <strong>cabine</strong> samen. <strong>Sleep</strong> de sliders om de dimensies aan te passen en <strong>selecteer</strong> de gewenste opties.</p>

					<div class="panel panel-default">
	       		<div class="panel-heading">
	         		<h4 class="panel-title">
	           		<a data-toggle="collapse" data-parent="#accordion" href="#collapse1">Afmetingen<i class="indicator glyphicon glyphicon-chevron-down  pull-right"></i></a>
	         		</h4>
	       		</div>
	       		<div id="collapse1" class="panel-collapse collapse in">
	         		<div class="panel-body">
								<div class="container-fluid">
		             	<div class="row" id='label-width'>Breedte: <input class="number-dim" id="number-width" type="number" name="quantity" min="97" max="300" value="124" onchange='handleChange(this); applyDim(0, this.value)' /></div>
		              <div class="row"><input id='slider-width' class="slider_100" type="range" value="124" min="10" max="300" oninput="applyDim(0,this.value); updateLabel(0, this.value);" onchange="applyDim(0,this.value); updateLabel(0, this.value)" data-toggle="tooltip" title="sleep om de lengte aan te passen" delay="{show: 500, hide: 100}" /></div>
		             	<div class="row" id='label-depth'>Diepte: <input class="number-dim" id="number-depth" type="number" name="quantity" min="97" max="300" value="140" onchange='handleChange(this); applyDim(2, this.value)' /></div>
			            <div class="row"><input id='slider-depth' class="slider_100" type="range" value="140" min="10" max="300" oninput="applyDim(2,this.value); updateLabel(1, this.value);" onchange="applyDim(2,this.value); updateLabel(1, this.value);" data-toggle="tooltip" title="sleep om de lengte aan te passen" delay="{show: 500, hide: 100}" /></div>
		             	<div class="row" id='label-height'>Hoogte: <input class="number-dim" id="number-height" type="number" name="quantity" min="97" max="300" value="200" onchange='handleChange(this); applyDim(1, this.value)' /></div>
		              <div class="row"><input id='slider-height' class="slider_100" type="range" value="200" min="10" max="300" oninput="applyDim(1,this.value); updateLabel(2, this.value);" onchange="applyDim(1,this.value); updateLabel(2, this.value);" data-toggle="tooltip" title="sleep om de lengte aan te passen" delay="{show: 500, hide: 100}" /></div>
								</div>
	         		</div>
	       		</div>
	     		</div>
				<div class="panel panel-default">
	       	<div class="panel-heading">
	         	<h4 class="panel-title">
	           	<a data-toggle="collapse" title="klik hier om de module indeling te kiezen" data-parent="#accordion" href="#collapse2">Opties<i class="indicator glyphicon glyphicon-chevron-up  pull-right"></i></a>
	         	</h4>
	       	</div>
	       	<div id="collapse2" class="panel-collapse collapse">
	         	<div class="panel-body">
	           	<div class="container-fluid">
	             	<!-- <div class="row">
	               	<div class="col-sm-8">IR-heaters</div>
	               	<div class="col-sm-4"><input id="numberInputHeaters" style="width:50px;" type="number" name="quantity" min="0" value="6" max="16" onchange='defineHeaterPositions(this.value)'></input></div>
	             	</div>
								<div class="row">
									&nbsp
	             	</div> -->
	             	<div class="row">
	               	<div class="col-sm-8">Zoutvernevelaar</div>
	               	<div class="col-sm-4"><input type="checkbox" id="cboxVaporizer"  value='2' onchange='addOption(this.value, this.checked)' /></div>
	             	</div>
	             	<div class="row">
		              <div class="col-sm-8">Rugsteun</div>
		              <div class="col-sm-4"><input type="checkbox" id="cboxBackrest"  value='3' onchange='addOption(this.value, this.checked)' /></div>
	             	</div>
	             	<div class="row">
	               	<div class="col-sm-8">Aromatherapie</div>
	               	<div class="col-sm-4"><input type="checkbox" id="cboxAroma"  value='4' onchange='addOption(this.value, this.checked)' /></div>
	             	</div>
							</div>
	         	</div>
	       	</div>
	     	</div>
	     	<div class="panel panel-default">
	      	<div class="panel-heading">
	         	<h4 class="panel-title">
	           	<a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Materiaal<i class="indicator glyphicon glyphicon-chevron-up  pull-right"></i></a>
	         	</h4>
	       	</div>
	       	<div id="collapse3" class="panel-collapse collapse">
						<!-- material selection -->
						<div class="panel-body">
							<div class='row'>
								<div class="col-sm-4">
									Exterieur
								</div>
								<div class="col-sm-4">
									<select id="colorselector1">
								    <option value="1" data-color="#ffffff">White</option>
								    <option value="2" data-color="#333333" selected="selected">Black</option>
								    <option value="3" data-color="#969690">Grey</option>
								    <option value="4" data-color="#F2E16F">Yellow</option>
									</select>
								</div>
							</div>
							<div class='row'>
								<div class="col-sm-4">
									Interieur
								</div>
								<div class="col-sm-4">
									<select id="colorselector2">
								    <option value="1" data-color="#ffffff" selected="selected">White</option>
								    <option value="2" data-color="#333333">Black</option>
								    <option value="3" data-color="#969690">Grey</option>
								    <option value="4" data-color="#F2E16F">Yellow</option>
									</select>
								</div>
							</div>
						</div>
	       	</div>
	     	</div>
	     	<div class="panel panel-default">
					<button type="button" class="btn btn-default btn-block" data-toggle="modal" data-target="#myModal">Bestellen</button>
				</div>
		 	</div>
			<!-- Modal -->
	   	<div id="myModal" class="modal fade" role="dialog">
	     	<div class="modal-dialog">

	      <!-- Modal content-->
	      <div class="modal-content">
	      	<div class="modal-header">
	        	<button type="button" class="close" data-dismiss="modal">&times;</button>
	          <h4 class="modal-title">Vraag offerte aan</h4>
	      	</div>
	        	<div class="modal-body">
	          	<div id="message"></div>
	          	<form id='myform' class="form-horizontal" role="form" method="post" action="order_form/saveState.php">
	           	<div class="form-group">
	      			<label for="name" class="col-sm-3 control-label">Naam</label>
	           		<div class="col-sm-9">
	           			<input type="text" class="form-control" id="name" name="name" placeholder="Voor- & achternaam">
	           		</div>
	           	</div>
	           	<div class="form-group">
	           		<label for="telephone" class="col-sm-3 control-label">Telefoonnummer</label>
	           		<div class="col-sm-9">
	           			<input type="text" class="form-control" id="telephone" name="telephone" placeholder="0612345678">
	           		</div>
	           	</div>
	           	<div class="form-group">
	           		<label for="email" class="col-sm-3 control-label">Emailadres</label>
	           		<div class="col-sm-9">
	           			<input type="email" required class="form-control" id="email" name="email" placeholder="voorbeeld@domein.nl">
	           		</div>
	           	</div>
	           	<div class="form-group">
	           		<label for="message" class="col-sm-3 control-label">opmerkingen</label>
	           		<div class="col-sm-9">
	           			<textarea class="form-control" rows="4" name="message" ></textarea>
	           		</div>
	           	</div>
	           	<div class="form-group">
	           		<div class="col-sm-10 col-sm-offset-2">
	           			<!-- Will be used to display an alert to the user -->
	           		</div>
	           	</div>
	           </form>
	           <div id="response"></div>
	         </div>
	         <div class="modal-footer">
	           <input id="submit" name="submit" type="submit" value="Verzenden" onclick="$('#myform').submit()" class="btn btn-primary" onC>
	           <button type="button" class="btn btn-default" data-dismiss="modal">Sluit</button>
	         </div>
	       </div>

	     </div>
	   </div>
	</div>

	<script src="../build/three.min.js"></script>
	<script src="../examples/js/controls/TrackballControls.js"></script>
	<script src="../examples/js/controls/OrbitControls.js"></script>
	<!-- <script src="../examples/js/libs/stats.min.js"></script> -->
	<script src="../examples/js/Detector.js"></script>
	<script src="../src/extras/helpers/AxisHelper.js"></script>

	<script src="lib/cabine_grid.js"></script>
	<script src="lib/wall.js"></script>
	<script src="lib/cell.js"></script>
	<script src="lib/browser_detector.js"></script>
	<script src="lib/json_loader.js"></script>
	<script src="lib/viewer.js"></script>

	<script>

		$('#colorselector1').colorselector({
          callback: function (value, color, title) {
						setColor('exterior', color);
          }
    });
		$('#colorselector2').colorselector({
          callback: function (value, color, title) {
						setColor('interior', color);
          }
    });

		function handleChange(input) {
			if (input.value < parseInt(input.min)) input.value = parseInt(input.min);
			if (input.value > parseInt(input.max)) input.value = parseInt(input.max);
		}

		function toggleChevron(e) {
		    $(e.target)
		        .prev('.panel-heading')
		        .find("i.indicator")
		        .toggleClass('glyphicon-chevron-down glyphicon-chevron-up');
		}
		$('#accordion').on('hidden.bs.collapse', toggleChevron);
		$('#accordion').on('shown.bs.collapse', toggleChevron);

		// updateLabel(0, 124);
		// updateLabel(1, 140);
		// updateLabel(2, 200);

		function defineHeaterPositions(number){
			var slots = cabine.walls[2].n;
			var array = [];

			if (number>slots){
				number = slots;
				$('#numberInputHeaters').val(slots);
			}
			array.push(0);
			if (number > 0 ) {
				//add element 0
				for(var i=1; i< number; i++){
						array.push(Math.round(i*slots/number));
				}
			}
			console.log(array);


		}

		function updateLabel(index, value){
			// switch(index){
			// 	case 0:
			// 		var minimum_size =	(3*MODULE_WIDTH + 2* MODULE_THICKNESS)*100;
			// 		value =  Math.round( (value > minimum_size)? value: minimum_size );
			// 		$( '#label-width' ).text( 'Breedte: ' + value + ' cm');
			// 		break;
			// 	case 1:
			// 		var minimum_size =	(3*MODULE_WIDTH + 2* MODULE_THICKNESS)*100;
			// 		value =  Math.round( (value > minimum_size)? value: minimum_size );
			// 		$( '#label-depth' ).text( 'Diepte: ' + value + ' cm');
			// 		break;
			// 	case 2:
			// 		var minimum_size =	(MODULE_FIXED_HEIGHT[1] + MODULE_FIXED_HEIGHT[0] + FLOOR_THICKNESS + CEILING_THICKNESS)*100;
			// 		value =  Math.round( (value > minimum_size)? value: minimum_size );
			// 		$( '#label-height' ).text( 'Hoogte: ' + value + ' cm');
			// 		break;
			// 	}
		}

	</script>

	</body>
</html>
